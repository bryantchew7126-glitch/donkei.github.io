<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Manhwa Library</title>
  <style>
    body { margin: 0; font-family: Arial, Helvetica, sans-serif; background: #0f0f0f; color: #fff; }
    header {
      background: linear-gradient(135deg, #ff0066, #6600ff);
      padding: 20px; text-align: center; font-size: 26px; font-weight: bold;
      letter-spacing: 1px; color: white; box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    }
    .container { max-width: 1000px; margin: 20px auto; padding: 10px; }
    .add-section button {
      width: 100%; padding: 12px; border: none;
      background: linear-gradient(135deg, #ff0066, #6600ff); color: white;
      border-radius: 8px; font-size: 18px; cursor: pointer; transition: 0.2s; margin-bottom: 5px;
    }
    .add-section input, .add-section select, #filterStatus {
      width: 100%; padding: 10px; margin-bottom: 8px; border-radius: 8px;
      border: none; font-size: 16px; background: #222; color: #eee;
    }
    .cards-container { display: flex; flex-wrap: wrap; gap: 20px; justify-content: flex-start; padding-top: 8px; }
    .card {
      background: #1a1a1a; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.4);
      padding: 18px 16px 14px 16px; min-width: 220px; max-width: 260px; flex: 1 1 220px;
      display: flex; flex-direction: column; align-items: flex-start; margin-bottom: 10px; transition: box-shadow 0.2s;
    }
    .card:hover { box-shadow: 0 6px 16px #6600ff50, 0 2px 8px rgba(0,0,0,0.5); }
    .card-title { font-size: 20px; font-weight: bold; margin-bottom: 10px; color: #ffccff; word-break: break-word; }
    .card-info { font-size: 15px; margin-bottom: 6px; color: #cccccc; }
    .card-actions { width: 100%; display: flex; gap: 8px; margin-top: 10px; }
    .status-btn {
      border: none; padding: 6px 10px; border-radius: 6px; color: white; cursor: pointer;
      margin-left: 4px; font-size: 14px; background: #444; transition: background 0.2s;
    }
    .status-completed { background: #15c560 !important; color: #fff !important; }
    .status-reading { background: #fd8002 !important; color: #fff !important; }
    .status-dropped { background: #de2626 !important; color: #fff !important; }
    .edit-btn {
      background: #00cc44; border: none; padding: 6px 10px; border-radius: 6px;
      color: white; cursor: pointer; font-size: 14px;
    }
    .remove-btn {
      background: #bb2222; border: none; padding: 6px 10px; border-radius: 6px; color: white;
      cursor: pointer; font-size: 14px; margin-left: 0; transition: background 0.2s;
    }
    .remove-btn:hover { background: #ff3939; }
    @media(max-width:600px) {
      header { font-size: 22px; } .cards-container { gap: 10px; }
      .card { min-width: 100%; max-width: 100%; }
    }
    #searchInput {
      width: 100%; padding: 14px; margin: 12px 0 10px 0; border-radius: 8px;
      font-size: 18px; border: none; background: #222; color: #eee; outline: none;
    }
    #filterStatus { margin-bottom: 20px; margin-top: 0; }
  </style>
</head>
<body>
<header>My Manhwa Library</header>
<div class="container">
  <input type="text" id="searchInput" placeholder="Search manhwa..." onkeyup="searchManhwa()" />
  <select id="filterStatus" onchange="renderList()">
    <option value="All">All Statuses</option>
    <option value="Reading">Reading</option>
    <option value="Completed">Completed</option>
    <option value="Dropped">Dropped</option>
  </select>
  <div class="add-section">
    <button onclick="sortAlphabetical()">Sort Alphabetically</button>
    <button onclick="sortByChapters(true)">Sort by Chapters ↑</button>
    <button onclick="sortByChapters(false)">Sort by Chapters ↓</button>
    <button onclick="sortByLastUpdated()">Sort by Last Updated</button>
    <h3>Add New Manhwa</h3>
    <input type="text" id="newTitle" placeholder="Enter title" />
    <input type="number" id="newChapters" placeholder="Enter chapters" min="0" />
    <select id="newStatus">
      <option value="Reading">Reading</option>
      <option value="Completed">Completed</option>
      <option value="Dropped">Dropped</option>
    </select>
    <button onclick="addManhwa()">Add to List</button>
  </div>
  <div id="manhwaCards" class="cards-container"></div>
</div>
<script>
  let manhwas = JSON.parse(localStorage.getItem('manhwas')) || [
    {title:"Solo leveling", chapters:0, status:"Reading"},
    {title:"Max-level newbie", chapters:162, status:"Reading"},
    {title:"Frenzy evolution", chapters:198, status:"Reading"},
    {title:"Super evolution", chapters:136, status:"Reading"},
    {title:"The beginning after the end", chapters:0, status:"Reading"},
    {title:"Player who can't level up", chapters:155, status:"Reading"},
    {title:"Archmage returns after 4000 years", chapters:189, status:"Reading"},
    {title:"Taming master", chapters:110, status:"Reading"},
    {title:"Nano machine", chapters:252, status:"Reading"},
    {title:"The game that I came from", chapters:0, status:"Reading"},
    {title:"Overgeared", chapters:220, status:"Reading"},
    {title:"66666 years: Advent of dark mage", chapters:100, status:"Reading"},
    {title:"Boundless necromancer", chapters:63, status:"Reading"},
    {title:"Return of disaster class hero", chapters:100, status:"Reading"},
    {title:"Crazy leveling system", chapters:106, status:"Reading"},
    {title:"Arcane sniper", chapters:186, status:"Reading"},
    {title:"Spirit sword sovereign", chapters:530, status:"Reading"},
    {title:"+99 reinforced wooden Stick", chapters:85, status:"Reading"},
    {title:"Druid of Seoul station", chapters:148, status:"Reading"},
    {title:"Transcension academy", chapters:80, status:"Reading"},
    {title:"Seoul station necromancer", chapters:145, status:"Reading"},
    {title:"Shadow hack", chapters:175, status:"Reading"},
    {title:"My path to killing gods", chapters:60, status:"Reading"},
    {title:"Disastrous necromancer", chapters:141, status:"Reading"},
    {title:"Absolute/All master necromancer", chapters:55, status:"Reading"},
    {title:"Heavenly demon instructor", chapters:105, status:"Reading"},
    {title:"Genius Necromancer", chapters:70, status:"Reading"},
    {title:"Kill the dragon", chapters:132, status:"Reading"},
    {title:"Astral pet store", chapters:167, status:"Reading"},
    {title:"Starting today I'm a player", chapters:103, status:"Reading"},
    {title:"Rise from the rubble", chapters:302, status:"Reading"},
    {title:"Constellation that returned from hell", chapters:160, status:"Reading"},
    {title:"Constellation are my disciple", chapters:84, status:"Reading"},
    {title:"Apocalyptic dungeon", chapters:204, status:"Reading"},
    {title:"Player who returned 10000 years later", chapters:133, status:"Reading"},
    {title:"Poison eating healer", chapters:50, status:"Reading"},
    {title:"SSS-class gacha hunter", chapters:91, status:"Reading"},
    {title:"Dungeon reset", chapters:193, status:"Reading"},
    {title:"Level up with skills", chapters:55, status:"Reading"},
    {title:"Sleeping ranker", chapters:105, status:"Reading"},
    {title:"Leveling up with gods", chapters:108, status:"Reading"},
    {title:"Farming in tower alone", chapters:52, status:"Reading"},
    {title:"Martial god regress to level 2", chapters:85, status:"Reading"},
    {title:"Warrior high school", chapters:51, status:"Reading"},
    {title:"Surviving as a mage", chapters:86, status:"Reading"},
    {title:"Return of the mount hua sect", chapters:117, status:"Reading"},
    {title:"Martial inverse", chapters:343, status:"Reading"},
    {title:"Battle god return", chapters:101, status:"Reading"},
    {title:"Logging in 10000 years into the future", chapters:108, status:"Reading"},
    {title:"Damn reincarnation", chapters:81, status:"Reading"},
    {title:"Infinite mage", chapters:65, status:"Reading"},
    {title:"The greatest estate developer", chapters:207, status:"Reading"},
    {title:"Regressed with king's power", chapters:54, status:"Reading"},
    {title:"Revenge of the iron-blooded hound", chapters:138, status:"Reading"},
    {title:"Second-life ranker", chapters:167, status:"Reading"},
    {title:"secretly cultivate for 1000 years", chapters:195, status:"Reading"},
    {title:"SSS rank lone summoner", chapters:56, status:"Reading"},
    {title:"Demon lord martial arts ascension", chapters:81, status:"Reading"},
    {title:"Assassin reincarnated as greatest swordsman", chapters:37, status:"Reading"},
    {title:"Existence", chapters:21, status:"Reading"},
    {title:"Demon evolution", chapters:89, status:"Reading"},
    {title:"Your talent is mine", chapters:106, status:"Reading"},
    {title:"Pick me up", chapters:97, status:"Reading"},
    {title:"Talent swallowing magician", chapters:76, status:"Reading"},
    {title:"Return of the shattered constellation", chapters:114, status:"Reading"},
    {title:"My school life pretending to be a worthless person", chapters:67, status:"Reading"},
    {title:"Han dae sung returned from hell", chapters:87, status:"Reading"},
    {title:"SSS class suicide hunter", chapters:83, status:"Reading"},
    {title:"Steel eating player", chapters:44, status:"Reading"},
    {title:"Son in low", chapters:277, status:"Reading"},
    {title:"Tutorial tower", chapters:198, status:"Reading"},
    {title:"Mr zombie", chapters:142, status:"Reading"},
    {title:"Climbing the tower even the regressor couldn't", chapters:44, status:"Reading"},
    {title:"max level player 100th regression", chapters:55, status:"Reading"},
    {title:"Monster pet evolution", chapters:323, status:"Reading"},
    {title:"Standard of reincarnation", chapters:125, status:"Reading"},
    {title:"Maxed strength stat necromancer", chapters:99, status:"Reading"},
    {title:"Demon king cheat system", chapters:49, status:"Reading"},
    {title:"Player breakout", chapters:150, status:"Reading"},
    {title:"Hero return", chapters:86, status:"Reading"},
    {title:"My daughter is the final boss", chapters:134, status:"Reading"},
    {title:"I don't really want to learn forbidden skills", chapters:97, status:"Reading"},
    {title:"I reply on my invincibility to deal tons of damage", chapters:55, status:"Reading"},
    {title:"I used to be a boss", chapters:91, status:"Reading"},
    {title:"Mr devourer please act like a final boss", chapters:54, status:"Reading"},
    {title:"Max-level player", chapters:65, status:"Reading"},
    {title:"Solo-bug player", chapters:120, status:"Reading"},
    {title:"Invincible at the start", chapters:118, status:"Reading"},
    {title:"My dad is too strong", chapters:166, status:"Reading"},
    {title:"Immortal emperor luo wu ji", chapters:248, status:"Reading"},
    {title:"Rise of the beast god", chapters:70, status:"Reading"},
    {title:"Taming spiritual female zombie", chapters:44, status:"Reading"},
    {title:"The Regressed S-Class Adventurer's Quest Life", chapters:31, status:"Reading"},
    {title:"Reborn as a skeleton/moonslayer", chapters:30, status:"Reading"},
    {title:"Unrivaled in online game", chapters:17, status:"Reading"},
    {title:"I got the weakest class,dragon tamer", chapters:78, status:"Reading"},
    {title:"Fire force", chapters:304, status:"Reading"},
    {title:"Super Gene", chapters:170, status:"Reading"},
    {title:"Dragon master", chapters:356, status:"Reading"},
    {title:"From goblin to goblin god", chapters:42, status:"Reading"},
    {title:"Evolution begins with a big tree", chapters:309, status:"Reading"},
    {title:"Taming system", chapters:39, status:"Reading"},
    {title:"Beast Familiar for All", chapters:90, status:"Reading"},
    {title:"Insect overlord", chapters:38, status:"Reading"},
    {title:"Upgrade from wild monsters", chapters:76, status:"Reading"},
    {title:"Blink master", chapters:47, status:"Reading"},
    {title:"Blue lock", chapters:328, status:"Reading"},
    {title:"Perfect hybrid", chapters:102, status:"Reading"},
    {title:"Chronicle of the demon faction", chapters:101, status:"Reading"},
    {title:"Reincarnator", chapters:67, status:"Reading"},
    {title:"I obtained a mythic item", chapters:118, status:"Reading"},
    {title:"The extra is too powerful", chapters:76, status:"Reading"},
    {title:"The academy genius tamer", chapters:40, status:"Reading"},
    {title:"Last on earth", chapters:46, status:"Reading"},
    {title:"Swordmaster son", chapters:152, status:"Reading"},
    {title:"Lazy lord master the sword", chapters:138, status:"Reading"},
    {title:"World after the fall", chapters:168, status:"Reading"},
    {title:"Academy genius swordsman", chapters:90, status:"Reading"},
    {title:"Surviving the game as a barbarian", chapters:97, status:"Reading"},
    {title:"Infinite level in murim", chapters:228, status:"Reading"},
    {title:"Login murim", chapters:216, status:"Reading"},
    {title:"Heavenly demon reborn", chapters:252, status:"Reading"},
    {title:"The Reborn Young Lord Is an Assassin", chapters:68, status:"Reading"},
    {title:"F-rank fortune hunter", chapters:77, status:"Reading"},
    {title:"All str sorcerer", chapters:63, status:"Reading"},
    {title:"I Am the Descendant of the Divine Dragon", chapters:134, status:"Reading"},
    {title:"Reincarnated as a Genius Prodigy of a Prestigious Family", chapters:47, status:"Reading"},
    {title:"This Villainous Disciple Is Not The Holy Child", chapters:124, status:"Reading"},
    {title:"Genius assassin takes it all", chapters:70, status:"Reading"},
    {title:"My Master Only Breaks Through Every Time the Limit Is Reached", chapters:102, status:"Reading"},
    {title:"Scoring the Sacred Body of the Ancients from the Get-go", chapters:97, status:"Reading"},
    {title:"Myst, Might, Mayhem", chapters:71, status:"Reading"},
    {title:"Repeat of the drifting moon", chapters:94, status:"Reading"},
    {title:"Rebirth Of The Ultimate Master", chapters:414, status:"Reading"},
    {title:"Infinite Devouring", chapters:250, status:"Reading"},
    {title:"Legend of an Asura - The Poison Dragon", chapters:133, status:"Reading"},
    {title:"I Became a Renowned Family's Sword Prodigy", chapters:164, status:"Reading"},
    {title:"Villain to kill", chapters:184, status:"Reading"},
    {title:"Hero killer", chapters:222, status:"Reading"},
    {title:"Player hides his past", chapters:53, status:"Reading"},
    {title:"Beastmaster", chapters:16, status:"Reading"},
    {title:"Global Beast Tamer", chapters:21, status:"Reading"},
    {title:"Cosmic Heavenly Demon 3077", chapters:51, status:"Reading"},
    {title:"Dungeons Odyssey", chapters:124, status:"Reading"},
    {title:"Descended from Divinity", chapters:164, status:"Reading"},
    {title:"I Stole the First Ranker's Soul", chapters:100, status:"Reading"},
    {title:"Absolute Master of the Senate", chapters:85, status:"Reading"},
    {title:"Regressing As The Bastard Of The Sword Clan", chapters:59, status:"Reading"},
    {title:"Shadow of the Supreme", chapters:62, status:"Reading"},
    {title:"The Jobless Guy Who Has Come to Slay", chapters:171, status:"Reading"},
    {title:"Return of the Hound", chapters:75, status:"Reading"},
    {title:"Devil Summoner, I Am the Abyss Lord", chapters:22, status:"Reading"},
    {title:"Time-Limited Genius Dark Knight", chapters:107, status:"Reading"},
    {title:"Helmut: The Forsaken Child", chapters:99, status:"Reading"},
    {title:"Absolute Sword Sense", chapters:143, status:"Reading"},
    {title:"Reincarnation of the Hero Party's Grand Mage", chapters:94, status:"Reading"},
    {title:"Hunter Academy’s Strongest Battle God", chapters:40, status:"Reading"},
    {title:"Surviving the Academy", chapters:82, status:"Reading"},
    {title:"Return of the Mad Demon", chapters:165, status:"Reading"},
    {title:"Absolute Regression", chapters:59, status:"Reading"},
    {title:"Legend of the northern blade", chapters:202, status:"Reading"},
    {title:"Heavenly Grand Archive's Young Master", chapters:140, status:"Reading"},
    {title:"Absolute Reign", chapters:53, status:"Reading"},
    {title:"Reborn to be a Supreme Emperor", chapters:375, status:"Reading"},
    {title:"I Can Summon God", chapters:149, status:"Reading"},
    {title:"Chronicles of the Reincarnated Demon God", chapters:58, status:"Reading"},
    {title:"Invincible After Shocking My Empress Wife", chapters:86, status:"Reading"},
    {title:"Return of the War God", chapters:130, status:"Reading"},
    {title:"Best Teacher Baek", chapters:136, status:"Reading"},
    {title:"The executioner", chapters:51, status:"Reading"},
    {title:"The Dungeon Cleaning Life of a Once Genius Hunter", chapters:45, status:"Reading"},
    {title:"Auto Hunting With My Clones", chapters:167, status:"Reading"},
    {title:"The Illegitimate Who Devours Weapons", chapters:58, status:"Reading"},
    {title:"The Reincarnated King of Fists", chapters:107, status:"Reading"},
    {title:"Legendary spearman", chapters:181, status:"Reading"},
    {title:"Steel emperor", chapters:91, status:"Reading"}
  ];
function saveManhwas() {
  localStorage.setItem('manhwas', JSON.stringify(manhwas));
}
function getStatusClass(status) {
  if (status === 'Completed') return 'status-completed';
  if (status === 'Reading') return 'status-reading';
  if (status === 'Dropped') return 'status-dropped';
  return '';
}
function renderList() {
  const container = document.getElementById('manhwaCards');
  container.innerHTML = '';
  const filterStatus = document.getElementById('filterStatus')
    ? document.getElementById('filterStatus').value
    : 'All';
  const searchKeyword = document.getElementById('searchInput').value.toLowerCase();
  manhwas.forEach((item, index) => {
    if (filterStatus !== 'All' && item.status !== filterStatus) return;
    if (searchKeyword && !item.title.toLowerCase().includes(searchKeyword)) return;
    const card = document.createElement('div');
    card.className = 'card';
    const statusClass = getStatusClass(item.status);
    card.innerHTML = `
      <div class="card-title">${item.title}</div>
      <div class="card-info">Chapters: ${item.chapters}</div>
      <div class="card-info">
        Status:
        <button class="status-btn ${statusClass}" onclick="toggleStatus(${index})">
          ${item.status || 'Reading'}
        </button>
      </div>
      <div class="card-info">Last updated: ${item.lastUpdated ? new Date(item.lastUpdated).toLocaleDateString() : '—'}</div>
      <div class="card-actions">
        <button class="edit-btn" onclick="editManhwa(${index})">Edit</button>
        <button class="remove-btn" onclick="removeManhwa(${index})">Remove</button>
      </div>
    `;
    container.appendChild(card);
  });
}
function addManhwa() {
  const title = document.getElementById('newTitle').value.trim();
  const chapters = parseInt(document.getElementById('newChapters').value) || 0;
  const status = document.getElementById('newStatus').value;
  if (!title) return;
  const now = Date.now();
  const existing = manhwas.find(item => item.title.trim().toLowerCase() === title.toLowerCase());
  if (existing) {
    existing.chapters = chapters;
    existing.status = status;
    existing.lastUpdated = now;
    alert('Existing manhwa found. Updated chapters and status.');
  } else {
    manhwas.push({ title, chapters, status, lastUpdated: now });
  }
  saveManhwas();
  renderList();
  document.getElementById('newTitle').value = '';
  document.getElementById('newChapters').value = '';
}
function toggleStatus(index) {
  const now = Date.now();
  const cur = manhwas[index].status;
  if (cur === 'Completed') manhwas[index].status = 'Dropped';
  else if (cur === 'Dropped') manhwas[index].status = 'Reading';
  else manhwas[index].status = 'Completed';
  manhwas[index].lastUpdated = now;
  saveManhwas();
  renderList();
}
function editManhwa(index) {
  const card = document.getElementsByClassName('card')[index];
  const item = manhwas[index];
  // Save current view
  const originalHTML = card.innerHTML;

  card.innerHTML = `
    <div class="card-title">${item.title}</div>
    <div class="card-info">
      Chapters: <input id="editChapters${index}" type="number" min="0" value="${item.chapters}" style="width:80px;" />
    </div>
    <div class="card-info">
      Status:
      <select id="editStatus${index}">
        <option value="Reading" ${item.status==="Reading"?"selected":""}>Reading</option>
        <option value="Completed" ${item.status==="Completed"?"selected":""}>Completed</option>
        <option value="Dropped" ${item.status==="Dropped"?"selected":""}>Dropped</option>
      </select>
    </div>
    <div class="card-info">Last updated: ${item.lastUpdated ? new Date(item.lastUpdated).toLocaleDateString() : '—'}</div>
    <div class="card-actions">
      <button onclick="saveEdit(${index})" class="edit-btn">Save</button>
      <button onclick="cancelEdit(${index})" class="remove-btn">Cancel</button>
    </div>
  `;

  card.querySelector(`#editChapters${index}`).focus();

  // Attach the original HTML for potential cancel
  card._originalHTML = originalHTML;
}

function saveEdit(index) {
  const card = document.getElementsByClassName('card')[index];
  const chapters = parseInt(card.querySelector(`#editChapters${index}`).value) || 0;
  const status = card.querySelector(`#editStatus${index}`).value;
  manhwas[index].chapters = chapters;
  manhwas[index].status = status;
  manhwas[index].lastUpdated = Date.now();
  saveManhwas();
  renderList();
}

function cancelEdit(index) {
  renderList();
}

function removeManhwa(index) {
  const confirmDelete = confirm(`Are you sure you want to remove "${manhwas[index].title}" from your library?`);
  if (!confirmDelete) return;
  manhwas.splice(index, 1);
  saveManhwas();
  renderList();
}
function searchManhwa() { renderList(); }
function sortAlphabetical() {
  manhwas.sort((a, b) => a.title.localeCompare(b.title));
  saveManhwas();
  renderList();
}
function sortByChapters(asc = true) {
  manhwas.sort((a, b) => asc ? a.chapters - b.chapters : b.chapters - a.chapters);
  saveManhwas();
  renderList();
}
function sortByLastUpdated() {
  manhwas.sort((a, b) => (b.lastUpdated || 0) - (a.lastUpdated || 0));
  saveManhwas();
  renderList();
}
renderList();
</script>
</body>
</html>

