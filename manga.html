<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Library - Manhwa Library</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body { 
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; 
      background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
      color: #e5e7eb; 
      min-height: 100vh;
      padding: 24px;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, rgba(139, 92, 246, 0.15) 0%, transparent 70%);
      border-radius: 50%;
      top: -200px;
      right: -200px;
      animation: float 20s ease-in-out infinite;
      z-index: 0;
    }

    body::after {
      content: '';
      position: fixed;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.12) 0%, transparent 70%);
      border-radius: 50%;
      bottom: -150px;
      left: -150px;
      animation: float 15s ease-in-out infinite reverse;
      z-index: 0;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) scale(1); }
      50% { transform: translate(30px, 30px) scale(1.1); }
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    .nav-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      animation: fadeInDown 0.8s ease-out;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .nav-left {
      display: flex;
      gap: 16px;
      align-items: center;
    }

    .back-link {
      color: #a78bfa;
      text-decoration: none;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s ease;
    }

    .back-link:hover {
      color: #c4b5fd;
      transform: translateX(-4px);
    }

    .reset-button {
      background: rgba(234, 179, 8, 0.2);
      border: 1px solid rgba(234, 179, 8, 0.5);
      color: #fde047;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 600;
    }

    .reset-button:hover {
      background: rgba(234, 179, 8, 0.3);
      transform: scale(1.05);
    }

    .add-button {
      background: linear-gradient(135deg, #8b5cf6, #ec4899);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      transition: all 0.3s ease;
    }

    .add-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(139, 92, 246, 0.4);
    }

    header {
    margin-bottom: 32px;
    }

    .header-banner {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(236, 72, 153, 0.2) 100%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 20px;
    padding: 40px 60px;
    text-align: center;
    box-shadow: 0 8px 32px rgba(139, 92, 246, 0.2);
    animation: fadeInDown 0.8s ease-out;
    position: relative;
    overflow: hidden;
    }

    .header-banner::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    animation: rotate 20s linear infinite;
    }

    @keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
    }

    h1 { 
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #a78bfa 0%, #ec4899 50%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 8px;
    letter-spacing: -1px;
    position: relative;
    z-index: 1;
    }

    .subtitle {
    color: #c4b5fd;
    font-size: 1.1rem;
    font-weight: 500;
    position: relative;
    z-index: 1;
    }


    input { 
      padding: 12px 16px; 
      border-radius: 12px; 
      border: 1px solid rgba(255, 255, 255, 0.1); 
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(8px);
      color: #e5e7eb; 
      font-size: 14px;
      transition: all 0.3s ease;
      outline: none;
      flex: 1;
      min-width: 200px;
    }

    input:focus {
      border-color: #8b5cf6;
      background: rgba(139, 92, 246, 0.15);
      box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
      transform: translateY(-1px);
    }

    input::placeholder {
      color: #6b7280;
    }

    select { 
      padding: 12px 16px; 
      border-radius: 12px; 
      border: 1px solid rgba(139, 92, 246, 0.5); 
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(236, 72, 153, 0.2));
      backdrop-filter: blur(8px);
      color: #e9d5ff; 
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
      outline: none;
      flex: 1;
      min-width: 200px;
      cursor: pointer;
    }

    select:hover {
      border-color: #a78bfa;
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(236, 72, 153, 0.3));
      transform: translateY(-1px);
    }

    select:focus {
      border-color: #c4b5fd;
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.25), rgba(236, 72, 153, 0.25));
      box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
      transform: translateY(-1px);
    }

    select option {
      background: #1e1b4b;
      color: #e5e7eb;
      padding: 10px;
      font-weight: 600;
    }

    .stats {
      display: flex;
      gap: 16px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .stat-card {
      background: rgba(139, 92, 246, 0.15);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(139, 92, 246, 0.3);
      border-radius: 12px;
      padding: 12px 20px;
      flex: 1;
      min-width: 150px;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
    }

    .stat-number {
      font-size: 1.8rem;
      font-weight: 700;
      background: linear-gradient(135deg, #a78bfa, #ec4899);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .stat-label {
      font-size: 0.85rem;
      color: #9ca3af;
      margin-top: 4px;
    }

    .table-container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      animation: fadeIn 0.8s ease-out 0.6s both;
    }

    table { 
      width: 100%; 
      border-collapse: collapse; 
    }

    th, td { 
      padding: 16px 20px; 
      text-align: left; 
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    th { 
      cursor: pointer; 
      background: rgba(139, 92, 246, 0.1);
      position: sticky; 
      top: 0;
      user-select: none;
      font-weight: 600;
      font-size: 0.875rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #c4b5fd;
      transition: all 0.2s ease;
      z-index: 10;
    }

    th:hover {
      background: rgba(139, 92, 246, 0.2);
      color: #e9d5ff;
    }

    th:active {
      transform: scale(0.98);
    }

    tbody tr {
      transition: all 0.2s ease;
    }

    tbody tr:nth-child(even) { 
      background: rgba(255, 255, 255, 0.02); 
    }

    tbody tr:hover { 
      background: rgba(139, 92, 246, 0.15);
      transform: scale(1.01);
      box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
    }

    td {
      font-size: 0.95rem;
    }

    .title-cell {
      font-weight: 500;
      color: #f3f4f6;
    }

    .chapter-cell {
      color: #c4b5fd;
      font-weight: 600;
      font-variant-numeric: tabular-nums;
    }

    .chapter-input {
      width: 80px;
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid rgba(139, 92, 246, 0.3);
      background: rgba(139, 92, 246, 0.1);
      color: #e5e7eb;
      font-size: 0.9rem;
      font-weight: 600;
      text-align: center;
      transition: all 0.2s ease;
    }

    .chapter-input:focus {
      border-color: #8b5cf6;
      background: rgba(139, 92, 246, 0.2);
      outline: none;
    }

    .status-select {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      border: 1px solid rgba(139, 92, 246, 0.5);
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(236, 72, 153, 0.2));
      color: #e9d5ff;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      transition: all 0.2s ease;
      cursor: pointer;
      outline: none;
    }

    .status-select:hover {
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(236, 72, 153, 0.3));
      border-color: #a78bfa;
      transform: scale(1.05);
    }

    .status-select:focus {
      border-color: #c4b5fd;
      box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.3);
      background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(236, 72, 153, 0.3));
    }

    .status-select option {
      background: #1e1b4b;
      color: #e5e7eb;
      padding: 10px;
      font-weight: 600;
    }

    .status-select option:hover {
      background: #8b5cf6;
    }

    .badge { 
    padding: 6px 12px; 
    border-radius: 20px; 
    font-size: 0.75rem;
    font-weight: 600;
    display: inline-block;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all 0.2s ease;
    }

    .badge:hover {
    transform: scale(1.05);
    }

    /* Reading - Green */
    .badge-reading {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2));
    border: 1px solid rgba(16, 185, 129, 0.5);
    color: #6ee7b7;
    }

    .badge-reading:hover {
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    /* Completed - Blue */
    .badge-completed {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(37, 99, 235, 0.2));
    border: 1px solid rgba(59, 130, 246, 0.5);
    color: #93c5fd;
    }

    .badge-completed:hover {
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    /* Plan to read - Purple */
    .badge-plan-to-read {
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(126, 34, 206, 0.2));
    border: 1px solid rgba(168, 85, 247, 0.5);
    color: #d8b4fe;
    }

    .badge-plan-to-read:hover {
    box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3);
    }

    /* Dropped - Red */
    .badge-dropped {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.2));
    border: 1px solid rgba(239, 68, 68, 0.5);
    color: #fca5a5;
    }

    .badge-dropped:hover {
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
    }

    /* On Hold - Yellow/Orange */
    .badge-on-hold {
    background: linear-gradient(135deg, rgba(251, 146, 60, 0.2), rgba(249, 115, 22, 0.2));
    border: 1px solid rgba(251, 146, 60, 0.5);
    color: #fdba74;
    }

    .badge-on-hold:hover {
    box-shadow: 0 4px 12px rgba(251, 146, 60, 0.3);
    }


    .actions-cell {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .btn-edit {
      background: rgba(59, 130, 246, 0.2);
      border: 1px solid rgba(59, 130, 246, 0.5);
      color: #93c5fd;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.75rem;
      transition: all 0.2s ease;
    }

    .btn-edit:hover {
      background: rgba(59, 130, 246, 0.3);
      transform: scale(1.05);
    }

    .btn-save {
      background: rgba(16, 185, 129, 0.2);
      border: 1px solid rgba(16, 185, 129, 0.5);
      color: #6ee7b7;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.75rem;
      transition: all 0.2s ease;
    }

    .btn-save:hover {
      background: rgba(16, 185, 129, 0.3);
      transform: scale(1.05);
    }

    .btn-cancel {
      background: rgba(156, 163, 175, 0.2);
      border: 1px solid rgba(156, 163, 175, 0.5);
      color: #d1d5db;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.75rem;
      transition: all 0.2s ease;
    }

    .btn-cancel:hover {
      background: rgba(156, 163, 175, 0.3);
      transform: scale(1.05);
    }

    .btn-delete {
      background: rgba(239, 68, 68, 0.2);
      border: 1px solid rgba(239, 68, 68, 0.5);
      color: #fca5a5;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.75rem;
      transition: all 0.2s ease;
    }

    .btn-delete:hover {
      background: rgba(239, 68, 68, 0.3);
      transform: scale(1.05);
    }

    .sort-icon {
      font-size: 0.7rem;
      margin-left: 4px;
      opacity: 0.5;
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #6b7280;
    }

    .empty-state-icon {
      font-size: 3rem;
      margin-bottom: 16px;
      opacity: 0.3;
    }

    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(139, 92, 246, 0.5);
      border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(139, 92, 246, 0.7);
    }

    .atsu-button {
    background: rgba(59, 130, 246, 0.2);
    border: 1px solid rgba(59, 130, 246, 0.5);
    color: #93c5fd;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 600;
    text-decoration: none;
    display: inline-block;
    }

    .atsu-button:hover {
    background: rgba(59, 130, 246, 0.3);
    transform: scale(1.05);
    color: #bfdbfe;
    }

    @media (max-width: 768px) {
    body {
        padding: 12px;
    }

    h1 {
        font-size: 1.8rem;
    }

    .header-banner {
        padding: 24px 20px;
    }

    .subtitle {
        font-size: 0.9rem;
    }

    .nav-bar {
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
    }

    .nav-left {
        flex-direction: column;
        align-items: stretch;
        gap: 8px;
    }

    .back-link, .reset-button, .atsu-button, .add-button {
        width: 100%;
        text-align: center;
        justify-content: center;
    }

    .controls { 
    display: flex; 
    gap: 16px; 
    flex-wrap: wrap; 
    align-items: center;
    }

    input { 
    padding: 12px 16px; 
    border-radius: 12px; 
    border: 1px solid rgba(255, 255, 255, 0.1); 
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(8px);
    color: #e5e7eb; 
    font-size: 14px;
    transition: all 0.3s ease;
    outline: none;
    flex: 1;
    min-width: 220px;
    margin-right: 8px;
    }

    select { 
    padding: 12px 16px; 
    border-radius: 12px; 
    border: 1px solid rgba(139, 92, 246, 0.5); 
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(236, 72, 153, 0.2));
    backdrop-filter: blur(8px);
    color: #e9d5ff; 
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s ease;
    outline: none;
    flex: 0 1 200px;
    min-width: 180px;
    cursor: pointer;
    }


    .stats {
        flex-direction: column;
    }

    .stat-card {
        min-width: 100%;
        text-align: center;
    }

    /* Hide table, show cards on mobile */
    .table-container {
        background: none;
        border: none;
        overflow: visible;
    }

    table {
        display: block;
    }

    thead {
        display: none;
    }

    tbody {
        display: block;
    }

    tr {
        display: block;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 16px;
        margin-bottom: 16px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    }

    tr:hover {
        transform: none;
        box-shadow: 0 4px 16px rgba(139, 92, 246, 0.3);
    }

    td {
        display: block;
        padding: 8px 0;
        border: none;
        text-align: left;
    }

    .title-cell {
        font-size: 1.1rem;
        margin-bottom: 12px;
        padding-bottom: 12px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        word-wrap: break-word;
    }

    .title-cell::before {
        content: 'üìñ ';
        opacity: 0.7;
    }

    .chapter-cell {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
    }

    .chapter-cell::before {
        content: 'Chapters:';
        font-weight: 600;
        color: #9ca3af;
        font-size: 0.85rem;
    }

    .chapter-input {
        width: 80px;
    }

    td:nth-child(3) {
        margin-bottom: 12px;
    }

    td:nth-child(3)::before {
        content: 'Status: ';
        font-weight: 600;
        color: #9ca3af;
        font-size: 0.85rem;
        margin-right: 8px;
    }

    .badge {
        display: inline-block;
    }

    .status-select {
        width: 100%;
        max-width: 200px;
    }

    .actions-cell {
        display: flex;
        flex-direction: row;
        gap: 8px;
        padding-top: 12px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .btn-edit, .btn-delete, .btn-save, .btn-cancel {
        flex: 1;
        font-size: 0.8rem;
        padding: 8px 12px;
        text-align: center;
    }

    .empty-state {
        padding: 40px 20px;
    }

    body::before, body::after {
        width: 300px;
        height: 300px;
    }
    }

    /* Extra small devices */
    @media (max-width: 480px) {
    h1 {
        font-size: 1.5rem;
    }

    .header-banner {
        padding: 20px 16px;
    }

    .title-cell {
        font-size: 1rem;
    }

    .actions-cell {
        flex-direction: column;
    }

    .btn-edit, .btn-delete, .btn-save, .btn-cancel {
        width: 100%;
    }
    }


  </style>
</head>
<body>
  <div class="container">
    <div class="nav-bar">
        <div class="nav-left">
            <a href="home page.html" class="back-link">
            <span>‚Üê</span> Back to Home
            </a>
            <a href="https://atsu.moe" target="_blank" class="atsu-button">
            üåê Atsu.moe
            </a>
        </div>
        <a href="add-manhwa.html" class="add-button">
            ‚ûï Add Manhwa
        </a>
        </div>


    <header>
    <div class="header-banner">
        <h1>üìö My Library</h1>
        <div class="subtitle">Manage your manhwa collection</div>
    </div>
    </header>


    <div class="controls-card">
      <div class="controls">
        <input id="search" type="text" placeholder="üîç Search your library..." />
        <select id="statusFilter">
          <option value="">All Status</option>
          <option value="Reading">Reading</option>
          <option value="Completed">Completed</option>
          <option value="Plan to read">Plan to read</option>
        </select>
        <select id="chaptersFilter">
          <option value="">All Chapters</option>
          <option value="0">Not Started (0)</option>
          <option value="1-50">1-50 Chapters</option>
          <option value="51-100">51-100 Chapters</option>
          <option value="101-200">101-200 Chapters</option>
          <option value="201+">201+ Chapters</option>
        </select>
      </div>
    </div>

    <div class="stats">
      <div class="stat-card">
        <div class="stat-number" id="shownCount">0</div>
        <div class="stat-label">Shown</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalCount">0</div>
        <div class="stat-label">Total Titles</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalChapters">0</div>
        <div class="stat-label">Total Chapters</div>
      </div>
    </div>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th data-sort="title">Title <span class="sort-icon">‚¨ç</span></th>
            <th data-sort="chapters">Chapters <span class="sort-icon">‚¨ç</span></th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="manhwaBody"></tbody>
      </table>
    </div>
  </div>

  <script>
    // Get the complete default library
    function getDefaultLibrary() {
      return [
        { title: "Solo leveling", chapters: 0, status: "Reading" },
        { title: "Max-level newbie", chapters: 162, status: "Reading" },
        { title: "Frenzy evolution", chapters: 198, status: "Reading" },
        { title: "Super evolution", chapters: 136, status: "Reading" },
        { title: "The beginning after the end", chapters: 0, status: "Reading" },
        { title: "Player who can't level up", chapters: 155, status: "Reading" },
        { title: "Archmage returns after 4000 years", chapters: 189, status: "Reading" },
        { title: "Taming master", chapters: 110, status: "Reading" },
        { title: "Nano machine", chapters: 252, status: "Reading" },
        { title: "The game that I came from", chapters: 0, status: "Reading" },
        { title: "Overgeared", chapters: 220, status: "Reading" },
        { title: "66666 years: Advent of dark mage", chapters: 100, status: "Reading" },
        { title: "Boundless necromancer", chapters: 63, status: "Reading" },
        { title: "Return of disaster class hero", chapters: 100, status: "Reading" },
        { title: "Crazy leveling system", chapters: 106, status: "Reading" },
        { title: "Arcane sniper", chapters: 186, status: "Reading" },
        { title: "Spirit sword sovereign", chapters: 530, status: "Reading" },
        { title: "+99 reinforced wooden Stick", chapters: 85, status: "Reading" },
        { title: "Druid of Seoul station", chapters: 148, status: "Reading" },
        { title: "Transcension academy", chapters: 80, status: "Reading" },
        { title: "Seoul station necromancer", chapters: 145, status: "Reading" },
        { title: "Shadow hack", chapters: 175, status: "Reading" },
        { title: "My path to killing gods", chapters: 60, status: "Reading" },
        { title: "Disastrous necromancer", chapters: 141, status: "Reading" },
        { title: "Absolute/All master necromancer", chapters: 55, status: "Reading" },
        { title: "Heavenly demon instructor", chapters: 105, status: "Reading" },
        { title: "Genius Necromancer", chapters: 70, status: "Reading" },
        { title: "Kill the dragon", chapters: 132, status: "Reading" },
        { title: "Astral pet store", chapters: 167, status: "Reading" },
        { title: "Starting today I'm a player", chapters: 103, status: "Reading" },
        { title: "Rise from the rubble", chapters: 302, status: "Reading" },
        { title: "Constellation that returned from hell", chapters: 160, status: "Reading" },
        { title: "Constellation are my disciple", chapters: 84, status: "Reading" },
        { title: "Apocalyptic dungeon", chapters: 204, status: "Reading" },
        { title: "Player who returned 10000 years later", chapters: 133, status: "Reading" },
        { title: "Poison eating healer", chapters: 50, status: "Reading" },
        { title: "SSS-class gacha hunter", chapters: 91, status: "Reading" },
        { title: "Dungeon reset", chapters: 193, status: "Reading" },
        { title: "Level up with skills", chapters: 55, status: "Reading" },
        { title: "Sleeping ranker", chapters: 105, status: "Reading" },
        { title: "Leveling up with gods", chapters: 108, status: "Reading" },
        { title: "Farming in tower alone", chapters: 52, status: "Reading" },
        { title: "Martial god regress to level 2", chapters: 85, status: "Reading" },
        { title: "Warrior high school", chapters: 51, status: "Reading" },
        { title: "Surviving as a mage", chapters: 86, status: "Reading" },
        { title: "Return of the mount hua sect", chapters: 117, status: "Reading" },
        { title: "Martial inverse", chapters: 343, status: "Reading" },
        { title: "Battle god return", chapters: 101, status: "Reading" },
        { title: "Logging in 10000 years into the future", chapters: 108, status: "Reading" },
        { title: "Damn reincarnation", chapters: 81, status: "Reading" },
        { title: "Infinite mage", chapters: 65, status: "Reading" },
        { title: "The greatest estate developer", chapters: 207, status: "Reading" },
        { title: "Regressed with king's power", chapters: 54, status: "Reading" },
        { title: "Revenge of the iron-blooded hound", chapters: 138, status: "Reading" },
        { title: "Second-life ranker", chapters: 167, status: "Reading" },
        { title: "secretly cultivate for 1000 years", chapters: 195, status: "Reading" },
        { title: "SSS rank lone summoner", chapters: 56, status: "Reading" },
        { title: "Demon lord martial arts ascension", chapters: 81, status: "Reading" },
        { title: "Assassin reincarnated as greatest swordsman", chapters: 37, status: "Reading" },
        { title: "Existence", chapters: 21, status: "Reading" },
        { title: "Demon evolution", chapters: 89, status: "Reading" },
        { title: "Your talent is mine", chapters: 106, status: "Reading" },
        { title: "Pick me up", chapters: 97, status: "Reading" },
        { title: "Talent swallowing magician", chapters: 76, status: "Reading" },
        { title: "Return of the shattered constellation", chapters: 114, status: "Reading" },
        { title: "My school life pretending to be a worthless person", chapters: 67, status: "Reading" },
        { title: "Han dae sung returned from hell", chapters: 87, status: "Reading" },
        { title: "SSS class suicide hunter", chapters: 83, status: "Reading" },
        { title: "Steel eating player", chapters: 44, status: "Reading" },
        { title: "Son in low", chapters: 277, status: "Reading" },
        { title: "Tutorial tower", chapters: 198, status: "Reading" },
        { title: "Mr zombie", chapters: 142, status: "Reading" },
        { title: "Climbing the tower even the regressor couldn't", chapters: 44, status: "Reading" },
        { title: "max level player 100th regression", chapters: 55, status: "Reading" },
        { title: "Monster pet evolution", chapters: 323, status: "Reading" },
        { title: "Standard of reincarnation", chapters: 125, status: "Reading" },
        { title: "Maxed strength stat necromancer", chapters: 99, status: "Reading" },
        { title: "Demon king cheat system", chapters: 49, status: "Reading" },
        { title: "Player breakout", chapters: 150, status: "Reading" },
        { title: "Hero return", chapters: 86, status: "Reading" },
        { title: "My daughter is the final boss", chapters: 134, status: "Reading" },
        { title: "I don't really want to learn forbidden skills", chapters: 97, status: "Reading" },
        { title: "I reply on my invincibility to deal tons of damage", chapters: 55, status: "Reading" },
        { title: "I used to be a boss", chapters: 91, status: "Reading" },
        { title: "Mr devourer please act like a final boss", chapters: 54, status: "Reading" },
        { title: "Max-level player", chapters: 65, status: "Reading" },
        { title: "Solo-bug player", chapters: 120, status: "Reading" },
        { title: "Invincible at the start", chapters: 118, status: "Reading" },
        { title: "My dad is too strong", chapters: 166, status: "Reading" },
        { title: "Immortal emperor luo wu ji", chapters: 248, status: "Reading" },
        { title: "Rise of the beast god", chapters: 70, status: "Reading" },
        { title: "Taming spiritual female zombie", chapters: 44, status: "Reading" },
        { title: "The Regressed S-Class Adventurer's Quest Life", chapters: 31, status: "Reading" },
        { title: "Reborn as a skeleton/moonslayer", chapters: 30, status: "Reading" },
        { title: "Unrivaled in online game", chapters: 17, status: "Reading" },
        { title: "I got the weakest class,dragon tamer", chapters: 78, status: "Reading" },
        { title: "Fire force", chapters: 304, status: "Reading" },
        { title: "Super Gene", chapters: 170, status: "Reading" },
        { title: "Dragon master", chapters: 356, status: "Reading" },
        { title: "From goblin to goblin god", chapters: 42, status: "Reading" },
        { title: "Evolution begins with a big tree", chapters: 309, status: "Reading" },
        { title: "Taming system", chapters: 39, status: "Reading" },
        { title: "Beast Familiar for All", chapters: 90, status: "Reading" },
        { title: "Insect overlord", chapters: 38, status: "Reading" },
        { title: "Upgrade from wild monsters", chapters: 76, status: "Reading" },
        { title: "Blink master", chapters: 47, status: "Reading" },
        { title: "Blue lock", chapters: 328, status: "Reading" },
        { title: "Perfect hybrid", chapters: 102, status: "Reading" },
        { title: "Chronicle of the demon faction", chapters: 101, status: "Reading" },
        { title: "Reincarnator", chapters: 67, status: "Reading" },
        { title: "I obtained a mythic item", chapters: 118, status: "Reading" },
        { title: "The extra is too powerful", chapters: 76, status: "Reading" },
        { title: "The academy genius tamer", chapters: 40, status: "Reading" },
        { title: "Last on earth", chapters: 46, status: "Reading" },
        { title: "Swordmaster son", chapters: 152, status: "Reading" },
        { title: "Lazy lord master the sword", chapters: 138, status: "Reading" },
        { title: "World after the fall", chapters: 168, status: "Reading" },
        { title: "Academy genius swordsman", chapters: 90, status: "Reading" },
        { title: "Surviving the game as a barbarian", chapters: 97, status: "Reading" },
        { title: "Infinite level in murim", chapters: 228, status: "Reading" },
        { title: "Login murim", chapters: 216, status: "Reading" },
        { title: "Heavenly demon reborn", chapters: 252, status: "Reading" },
        { title: "The Reborn Young Lord Is an Assassin", chapters: 68, status: "Reading" },
        { title: "F-rank fortune hunter", chapters: 77, status: "Reading" },
        { title: "All str sorcerer", chapters: 63, status: "Reading" },
        { title: "I Am the Descendant of the Divine Dragon", chapters: 134, status: "Reading" },
        { title: "Reincarnated as a Genius Prodigy of a Prestigious Family", chapters: 47, status: "Reading" },
        { title: "This Villainous Disciple Is Not The Holy Child", chapters: 124, status: "Reading" },
        { title: "Genius assassin takes it all", chapters: 70, status: "Reading" },
        { title: "My Master Only Breaks Through Every Time the Limit Is Reached", chapters: 102, status: "Reading" },
        { title: "Scoring the Sacred Body of the Ancients from the Get-go", chapters: 97, status: "Reading" },
        { title: "Myst, Might, Mayhem", chapters: 71, status: "Reading" },
        { title: "Repeat of the drifting moon", chapters: 94, status: "Reading" },
        { title: "Rebirth Of The Ultimate Master", chapters: 414, status: "Reading" },
        { title: "Infinite Devouring", chapters: 250, status: "Reading" },
        { title: "Legend of an Asura - The Poison Dragon", chapters: 133, status: "Reading" },
        { title: "I Became a Renowned Family's Sword Prodigy", chapters: 164, status: "Reading" },
        { title: "Villain to kill", chapters: 184, status: "Reading" },
        { title: "Hero killer", chapters: 222, status: "Reading" },
        { title: "Player hides his past", chapters: 53, status: "Reading" },
        { title: "Beastmaster", chapters: 16, status: "Reading" },
        { title: "Global Beast Tamer", chapters: 21, status: "Reading" },
        { title: "Cosmic Heavenly Demon 3077", chapters: 51, status: "Reading" },
        { title: "Dungeons Odyssey", chapters: 124, status: "Reading" },
        { title: "Descended from Divinity", chapters: 164, status: "Reading" },
        { title: "I Stole the First Ranker's Soul", chapters: 100, status: "Reading" },
        { title: "Absolute Master of the Senate", chapters: 85, status: "Reading" },
        { title: "Regressing As The Bastard Of The Sword Clan", chapters: 59, status: "Reading" },
        { title: "Shadow of the Supreme", chapters: 62, status: "Reading" },
        { title: "The Jobless Guy Who Has Come to Slay", chapters: 171, status: "Reading" },
        { title: "Return of the Hound", chapters: 75, status: "Reading" },
        { title: "Devil Summoner, I Am the Abyss Lord", chapters: 22, status: "Reading" },
        { title: "Time-Limited Genius Dark Knight", chapters: 107, status: "Reading" },
        { title: "Helmut: The Forsaken Child", chapters: 99, status: "Reading" },
        { title: "Absolute Sword Sense", chapters: 143, status: "Reading" },
        { title: "Reincarnation of the Hero Party's Grand Mage", chapters: 94, status: "Reading" },
        { title: "Hunter Academy's Strongest Battle God", chapters: 40, status: "Reading" },
        { title: "Surviving the Academy", chapters: 82, status: "Reading" },
        { title: "Return of the Mad Demon", chapters: 165, status: "Reading" },
        { title: "Absolute Regression", chapters: 59, status: "Reading" },
        { title: "Legend of the northern blade", chapters: 202, status: "Reading" },
        { title: "Heavenly Grand Archive's Young Master", chapters: 140, status: "Reading" },
        { title: "Absolute Reign", chapters: 53, status: "Reading" },
        { title: "Reborn to be a Supreme Emperor", chapters: 375, status: "Reading" },
        { title: "I Can Summon God", chapters: 149, status: "Reading" },
        { title: "Chronicles of the Reincarnated Demon God", chapters: 58, status: "Reading" },
        { title: "Invincible After Shocking My Empress Wife", chapters: 86, status: "Reading" },
        { title: "Return of the War God", chapters: 130, status: "Reading" },
        { title: "Best Teacher Baek", chapters: 136, status: "Reading" },
        { title: "The executioner", chapters: 51, status: "Reading" },
        { title: "The Dungeon Cleaning Life of a Once Genius Hunter", chapters: 45, status: "Reading" },
        { title: "Auto Hunting With My Clones", chapters: 167, status: "Reading" },
        { title: "The Illegitimate Who Devours Weapons", chapters: 58, status: "Reading" },
        { title: "The Reincarnated King of Fists", chapters: 107, status: "Reading" },
        { title: "Legendary spearman", chapters: 181, status: "Reading" },
        { title: "Steel emperor", chapters: 91, status: "Reading" }
      ];
    }

    // Initialize or reset library
    function initializeLibrary() {
      const existing = localStorage.getItem('manhwaLibrary');
      if (!existing) {
        localStorage.setItem('manhwaLibrary', JSON.stringify(getDefaultLibrary()));
      }
    }

    // Reset library to full 179 titles
    function resetLibrary() {
      if (confirm('This will reset your library to all 179 manhwa. Any custom additions or modifications will be lost. Continue?')) {
        localStorage.setItem('manhwaLibrary', JSON.stringify(getDefaultLibrary()));
        render();
        alert('Library reset! All 179 manhwa loaded.');
      }
    }

    let currentSort = { key: "title", dir: "asc" };
    let editingTitle = null;

    const bodyEl = document.getElementById("manhwaBody");
    const searchEl = document.getElementById("search");
    const statusEl = document.getElementById("statusFilter");
    const chaptersFilterEl = document.getElementById("chaptersFilter");
    const shownCountEl = document.getElementById("shownCount");
    const totalCountEl = document.getElementById("totalCount");
    const totalChaptersEl = document.getElementById("totalChapters");

    function loadLibrary() {
      return JSON.parse(localStorage.getItem('manhwaLibrary') || '[]');
    }

    function saveLibrary(library) {
      localStorage.setItem('manhwaLibrary', JSON.stringify(library));
    }

    function deleteManhwa(title) {
      if (confirm(`Delete "${title}"?`)) {
        const library = loadLibrary();
        const filtered = library.filter(m => m.title !== title);
        saveLibrary(filtered);
        render();
      }
    }

    function editManhwa(title) {
      editingTitle = title;
      render();
    }

    function saveManhwa(title) {
      const library = loadLibrary();
      const manhwa = library.find(m => m.title === title);
      
      if (manhwa) {
        const newChapters = parseInt(document.getElementById(`chapters-${title}`).value) || 0;
        const newStatus = document.getElementById(`status-${title}`).value;
        
        manhwa.chapters = newChapters;
        manhwa.status = newStatus;
        
        saveLibrary(library);
      }
      
      editingTitle = null;
      render();
    }

    function cancelEdit() {
      editingTitle = null;
      render();
    }

    function updateStats(filteredData) {
      const library = loadLibrary();
      const totalChapters = library.reduce((sum, m) => sum + m.chapters, 0);
      shownCountEl.textContent = filteredData.length;
      totalCountEl.textContent = library.length;
      totalChaptersEl.textContent = totalChapters.toLocaleString();
    }

    function render() {
      const q = searchEl.value.trim().toLowerCase();
      const status = statusEl.value;
      const chaptersFilter = chaptersFilterEl.value;
      const library = loadLibrary();

      let data = library.filter(m => {
        const matchTitle = m.title.toLowerCase().includes(q);
        const matchStatus = !status || m.status === status;
        
        // Chapters filter logic
        let matchChapters = true;
        if (chaptersFilter) {
          if (chaptersFilter === "0") {
            matchChapters = m.chapters === 0;
          } else if (chaptersFilter === "1-50") {
            matchChapters = m.chapters >= 1 && m.chapters <= 50;
          } else if (chaptersFilter === "51-100") {
            matchChapters = m.chapters >= 51 && m.chapters <= 100;
          } else if (chaptersFilter === "101-200") {
            matchChapters = m.chapters >= 101 && m.chapters <= 200;
          } else if (chaptersFilter === "201+") {
            matchChapters = m.chapters >= 201;
          }
        }
        
        return matchTitle && matchStatus && matchChapters;
      });

      data.sort((a, b) => {
        const { key, dir } = currentSort;
        const mul = dir === "asc" ? 1 : -1;
        if (key === "title") {
          return a.title.localeCompare(b.title) * mul;
        }
        if (key === "chapters") {
          return (a.chapters - b.chapters) * mul;
        }
        return 0;
      });

      updateStats(data);

      bodyEl.innerHTML = "";
      
      if (data.length === 0) {
        bodyEl.innerHTML = `
          <tr>
            <td colspan="4">
              <div class="empty-state">
                <div class="empty-state-icon">üì≠</div>
                <div>No manhwa found matching your filters</div>
              </div>
            </td>
          </tr>
        `;
        return;
      }

      data.forEach(m => {
        const tr = document.createElement("tr");
        const isEditing = editingTitle === m.title;
        
        if (isEditing) {
          tr.innerHTML = `
            <td class="title-cell">${m.title}</td>
            <td class="chapter-cell">
              <input 
                type="number" 
                id="chapters-${m.title}" 
                class="chapter-input" 
                value="${m.chapters}" 
                min="0"
              />
            </td>
            <td>
              <select id="status-${m.title}" class="status-select">
                <option value="Reading" ${m.status === 'Reading' ? 'selected' : ''}>Reading</option>
                <option value="Completed" ${m.status === 'Completed' ? 'selected' : ''}>Completed</option>
                <option value="Plan to read" ${m.status === 'Plan to read' ? 'selected' : ''}>Plan to read</option>
                <option value="Dropped" ${m.status === 'Dropped' ? 'selected' : ''}>Dropped</option>
                <option value="On Hold" ${m.status === 'On Hold' ? 'selected' : ''}>On Hold</option>
              </select>
            </td>
            <td class="actions-cell">
              <button class="btn-save" onclick="saveManhwa('${m.title.replace(/'/g, "\\'")}')">Save</button>
              <button class="btn-cancel" onclick="cancelEdit()">Cancel</button>
            </td>
          `;
        } else {
          // In the render function, change this line:
            tr.innerHTML = `
            <td class="title-cell">${m.title}</td>
            <td class="chapter-cell">${m.chapters}</td>
            <td><span class="badge badge-${m.status.toLowerCase().replace(/ /g, '-')}">${m.status}</span></td>
            <td class="actions-cell">
                <button class="btn-edit" onclick="editManhwa('${m.title.replace(/'/g, "\\'")}')">Edit</button>
                <button class="btn-delete" onclick="deleteManhwa('${m.title.replace(/'/g, "\\'")}')">Delete</button>
            </td>
            `;

        }
        
        bodyEl.appendChild(tr);
      });
    }

    document.querySelectorAll("th[data-sort]").forEach(th => {
      th.addEventListener("click", () => {
        const key = th.dataset.sort;
        if (currentSort.key === key) {
          currentSort.dir = currentSort.dir === "asc" ? "desc" : "asc";
        } else {
          currentSort = { key, dir: "asc" };
        }
        
        document.querySelectorAll(".sort-icon").forEach(icon => {
          icon.textContent = "‚¨ç";
        });
        const icon = th.querySelector(".sort-icon");
        icon.textContent = currentSort.dir === "asc" ? "‚ñ≤" : "‚ñº";
        
        render();
      });
    });

    searchEl.addEventListener("input", render);
    statusEl.addEventListener("change", render);
    chaptersFilterEl.addEventListener("change", render);

    window.deleteManhwa = deleteManhwa;
    window.editManhwa = editManhwa;
    window.saveManhwa = saveManhwa;
    window.cancelEdit = cancelEdit;
    window.resetLibrary = resetLibrary;

    initializeLibrary();
    render();
  </script>
</body>
</html>
